---
title: Encodeã€Decodeã€Hash æ˜¯ç”šéº¼æ±è¥¿?
description: ç·¨ç¢¼ã€è§£ç¢¼ã€åŠ å¯†
icon: LockKeyhole
---

import { Tabs, Tab } from 'fumadocs-ui/components/tabs';
import { Steps, Step } from 'fumadocs-ui/components/steps';

> Encodeã€Decodeã€Hash

æœ€è¿‘åŒäº‹ç‚ºäº†ä¸€å€‹éœ€æ±‚è€Œè‹¦æƒ±ï¼Œæƒ³è¦æŠŠ URI ä¸Šçš„è³‡æ–™å­˜å…¥å‰ç«¯æ¡†æ¶ä¸­ä¸¦èƒ½åå‘è®€å…¥å„²å­˜å­—ä¸²åœ¨åå°å‡º URIï¼Œå»ç™¼ç¾è½‰å…¥æ¡†æ¶æ™‚ï¼Œè³‡æ–™ç„¡æ³•æŒ‰ç…§ä»–çš„æƒ³æ³•è½‰æ›ï¼Œ
åŒäº‹å€‘è¨è«–çš„éç¨‹ï¼Œè½åˆ°äº†å¹¾å€‹é—œéµå­—ï¼Œæ–¼æ˜¯æƒ³è¨˜éŒ„ä¸‹ä¾† ~

<Callout type="info" title="æ ¸å¿ƒæ¦‚å¿µå·®ç•°">
- **Encoding**: è³‡æ–™æ ¼å¼è½‰æ›ï¼Œå¯é€†ï¼Œç›®çš„æ˜¯ç›¸å®¹æ€§å’Œå‚³è¼¸
- **Hashing**: å–®å‘è½‰æ›ï¼Œä¸å¯é€†ï¼Œç›®çš„æ˜¯é©—è­‰å’Œå®‰å…¨
- **Encryption**: é›™å‘è½‰æ›ï¼Œéœ€è¦é‡‘é‘°ï¼Œç›®çš„æ˜¯æ©Ÿå¯†æ€§
</Callout>

## Encodeï¼ˆç·¨ç¢¼ï¼‰

ç·¨ç¢¼æ˜¯æŒ‡å°‡æ•¸æ“šå¾ä¸€ç¨®å½¢å¼è½‰æ›ç‚ºå¦ä¸€ç¨®å½¢å¼çš„éç¨‹ï¼Œä»¥ä¾¿åœ¨ä¸åŒç³»çµ±æˆ–ç’°å¢ƒä¸­é€²è¡Œå‚³è¼¸æˆ–å­˜å„²ã€‚

<Callout type="success" title="ç·¨ç¢¼ç‰¹é»">
âœ… å¯é€†è½‰æ› âœ… ä¸éœ€è¦é‡‘é‘° âœ… å…¬é–‹ç®—æ³• âœ… ç”¨æ–¼æ•¸æ“šç›¸å®¹æ€§
</Callout>

### å¸¸è¦‹ç·¨ç¢¼é¡å‹æ¯”è¼ƒ

<Tabs items={['URL ç·¨ç¢¼', 'Base64 ç·¨ç¢¼', 'HTML ç·¨ç¢¼', 'å­—ç¬¦ç·¨ç¢¼']} groupId="encoding-types">
  <Tab value="URL ç·¨ç¢¼">
    **ç”¨é€”**: URLä¸­ç‰¹æ®Šå­—ç¬¦çš„å®‰å…¨å‚³è¼¸ (RFC 3986)
    
    **ä»€éº¼æ™‚å€™ä½¿ç”¨**:
    - URL åƒæ•¸åŒ…å«ç©ºæ ¼ã€ä¸­æ–‡æˆ–ç‰¹æ®Šç¬¦è™Ÿ
    - è™•ç† query string è³‡æ–™
    - RESTful API è·¯å¾‘åƒæ•¸
    
    ```javascript title="URL ç·¨ç¢¼ç¯„ä¾‹"
    const data = {
      name: 'å¼µä¸‰',
      email: 'user@example.com',
      message: 'Hello World! ä½ å¥½ä¸–ç•Œ #tag'
    };
    
    // ç·¨ç¢¼å–®å€‹åƒæ•¸
    const encodedName = encodeURIComponent(data.name);
    console.log(encodedName); // '%E5%BC%B5%E4%B8%89'
    
    // ç·¨ç¢¼å®Œæ•´ query string
    const queryString = Object.entries(data)
      .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)
      .join('&');
    
    console.log(queryString);
    // name=%E5%BC%B5%E4%B8%89&email=user%40example.com&message=Hello%20World!...
    
    // è§£ç¢¼
    const decodedName = decodeURIComponent(encodedName);
    console.log(decodedName); // 'å¼µä¸‰'
    ```
    
    <Callout type="warn" title="æ³¨æ„äº‹é …">
    `encodeURI()` vs `encodeURIComponent()`: å‰è€…ä¸ç·¨ç¢¼ URL ä¿ç•™å­—ç¬¦ï¼ˆå¦‚ `:/?#`ï¼‰ï¼Œå¾Œè€…ç·¨ç¢¼æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦ã€‚ä¸€èˆ¬åƒæ•¸å€¼ç”¨ `encodeURIComponent()`ã€‚
    </Callout>
  </Tab>
  <Tab value="Base64 ç·¨ç¢¼">
    **ç”¨é€”**: å°‡äºŒé€²åˆ¶æ•¸æ“šè½‰ç‚ºæ–‡æœ¬æ ¼å¼ (RFC 4648)
    
    **ä»€éº¼æ™‚å€™ä½¿ç”¨**:
    - åœ¨ JSON ä¸­å‚³è¼¸åœ–ç‰‡æˆ–æ–‡ä»¶
    - Email é™„ä»¶ç·¨ç¢¼
    - Data URLs (`data:image/png;base64,...`)
    - JWT token çš„ header å’Œ payload
    
    ```javascript title="Base64 ç·¨ç¢¼ç¯„ä¾‹"
    // æ–‡å­—ç·¨ç¢¼
    const text = 'Hello ä¸–ç•Œ! ğŸš€';
    const encoded = btoa(unescape(encodeURIComponent(text)));
    console.log(encoded); // 'SGVsbG8g5LiW55WMISAg8J+agA=='
    
    // æ–‡å­—è§£ç¢¼  
    const decoded = decodeURIComponent(escape(atob(encoded)));
    console.log(decoded); // 'Hello ä¸–ç•Œ! ğŸš€'
    
    // æ–‡ä»¶è½‰ Base64 (ç€è¦½å™¨ç’°å¢ƒ)
    function fileToBase64(file) {
      return new Promise((resolve) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.readAsDataURL(file); // è‡ªå‹•åŠ ä¸Š data:mime-type;base64, å‰ç¶´
      });
    }
    
    // ä½¿ç”¨ç¯„ä¾‹
    const input = document.querySelector('input[type="file"]');
    input.addEventListener('change', async (e) => {
      const file = e.target.files[0];
      const base64 = await fileToBase64(file);
      console.log(base64); // data:image/png;base64,iVBORw0KGgoAAAANSUhE...
    });
    
    // Node.js ç’°å¢ƒ
    const fs = require('fs');
    const fileBuffer = fs.readFileSync('image.png');
    const base64String = fileBuffer.toString('base64');
    ```
    
    <Callout type="info" title="Base64 ç‰¹æ€§">
    - æœƒå¢åŠ ç´„ 33% çš„è³‡æ–™å¤§å°
    - ä½¿ç”¨ A-Z, a-z, 0-9, +, / å’Œ = (padding)
    - ä¸é©åˆå¤§æ–‡ä»¶ï¼Œå»ºè­°ç”¨æ–¼å°æ–¼ 1MB çš„è³‡æ–™
    </Callout>
  </Tab>
  <Tab value="HTML ç·¨ç¢¼">
    **ç”¨é€”**: é˜²æ­¢ HTML æ³¨å…¥æ”»æ“Šï¼Œé¡¯ç¤º HTML æ¨™ç±¤ç‚ºç´”æ–‡å­—
    
    **ä»€éº¼æ™‚å€™ä½¿ç”¨**:
    - ç”¨æˆ¶è¼¸å…¥å…§å®¹é¡¯ç¤º
    - é˜²æ­¢ XSS æ”»æ“Š
    - åœ¨ HTML ä¸­é¡¯ç¤ºç¨‹å¼ç¢¼
    
    ```javascript title="HTML ç·¨ç¢¼ç¯„ä¾‹"
    // åŸºæœ¬ HTML å¯¦é«”ç·¨ç¢¼
    function htmlEncode(str) {
      const entityMap = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;',
        '/': '&#x2F;'
      };
      
      return str.replace(/[&<>"'\/]/g, (char) => entityMap[char]);
    }
    
    // å¯¦éš›ä½¿ç”¨
    const userInput = '<script>alert("XSS Attack!");</script>';
    const safeOutput = htmlEncode(userInput);
    console.log(safeOutput); 
    // '&lt;script&gt;alert(&quot;XSS Attack!&quot;);&lt;&#x2F;script&gt;'
    
    // HTML è§£ç¢¼
    function htmlDecode(str) {
      const textarea = document.createElement('textarea');
      textarea.innerHTML = str;
      return textarea.value;
    }
    
    const decoded = htmlDecode(safeOutput);
    console.log(decoded); // '<script>alert("XSS Attack!");</script>'
    
    // ç¾ä»£ç€è¦½å™¨ API
    const encoder = new TextEncoder();
    const decoder = new TextDecoder();
    const encoded = encoder.encode(userInput);
    const decodedText = decoder.decode(encoded);
    ```
    
    <Callout type="error" title="å®‰å…¨è­¦å‘Š">
    æ°¸é ä¸è¦ä¿¡ä»»ç”¨æˆ¶è¼¸å…¥ï¼åœ¨é¡¯ç¤ºç”¨æˆ¶æä¾›çš„å…§å®¹å‰ï¼Œå‹™å¿…é€²è¡Œé©ç•¶çš„ç·¨ç¢¼æˆ–éæ¿¾ã€‚
    </Callout>
  </Tab>
  <Tab value="å­—ç¬¦ç·¨ç¢¼">
    **ç”¨é€”**: å­—ç¬¦åˆ°æ•¸å­—çš„å°æ‡‰é—œä¿‚
    
    **å¸¸è¦‹ç·¨ç¢¼**:
    - **ASCII**: 7ä½å…ƒï¼Œæ”¯æ´è‹±æ–‡å­—ç¬¦
    - **UTF-8**: å¯è®Šé•·åº¦ï¼Œæ”¯æ´å…¨ä¸–ç•Œèªè¨€
    - **UTF-16**: 16ä½å…ƒç‚ºåŸºç¤ï¼ŒJavaScript å…§éƒ¨ä½¿ç”¨
    
    ```javascript title="å­—ç¬¦ç·¨ç¢¼ç¯„ä¾‹"
    const text = 'Hello ä¸–ç•Œ! ğŸŒ';
    
    // UTF-8 ç·¨ç¢¼ (Node.js/ç¾ä»£ç€è¦½å™¨)
    const utf8Encoded = new TextEncoder().encode(text);
    console.log(utf8Encoded); 
    // Uint8Array [72, 101, 108, 108, 111, 32, 228, 184, 150, ...]
    
    // UTF-8 è§£ç¢¼
    const utf8Decoded = new TextDecoder('utf-8').decode(utf8Encoded);
    console.log(utf8Decoded); // 'Hello ä¸–ç•Œ! ğŸŒ'
    
    // å­—ç¬¦ç¢¼é» (Code Point)
    for (let char of text) {
      console.log(`${char}: ${char.codePointAt(0)}`);
    }
    // H: 72
    // e: 101
    // l: 108
    // ä¸–: 19990
    // ğŸŒ: 127757
    
    // ASCII vs Unicode æ¯”è¼ƒ
    const ascii = 'Hello';
    const unicode = 'ä½ å¥½';
    
    console.log('ASCII é•·åº¦:', ascii.length); // 5
    console.log('Unicode é•·åº¦:', unicode.length); // 2
    console.log('UTF-8 ä½å…ƒçµ„:', new TextEncoder().encode(ascii).length); // 5
    console.log('UTF-8 ä½å…ƒçµ„:', new TextEncoder().encode(unicode).length); // 6
    ```
    
    <Callout type="info" title="ç·¨ç¢¼é¸æ“‡å»ºè­°">
    - **Web æ‡‰ç”¨**: çµ±ä¸€ä½¿ç”¨ UTF-8
    - **è³‡æ–™åº«**: UTF-8 æˆ– UTF8MB4 (æ”¯æ´ Emoji)
    - **API**: Content-Type æ˜ç¢ºæŒ‡å®šå­—ç¬¦ç·¨ç¢¼
    </Callout>
  </Tab>
</Tabs>

## Decodeï¼ˆè§£ç¢¼ï¼‰

è§£ç¢¼æ˜¯ç·¨ç¢¼çš„é€†éç¨‹ï¼Œå°‡ç·¨ç¢¼å¾Œçš„æ•¸æ“šè½‰æ›å›å…¶åŸå§‹å½¢å¼ã€‚

## Hashï¼ˆå“ˆå¸Œï¼‰

å“ˆå¸Œæ˜¯ä¸€ç¨®å°‡ä»»æ„å¤§å°çš„æ•¸æ“šè½‰æ›ç‚ºå›ºå®šå¤§å°çš„å“ˆå¸Œå€¼çš„éç¨‹ï¼Œé€šå¸¸ç”¨æ–¼åŠ å¯†å’Œæ•¸æ“šå®Œæ•´æ€§æª¢æŸ¥ã€‚

<Callout type="error" title="é‡è¦ç‰¹æ€§">
âŒ **ä¸å¯é€†** - ç„¡æ³•å¾å“ˆå¸Œå€¼é‚„åŸåŸå§‹è³‡æ–™  
âœ… **å›ºå®šé•·åº¦** - ç›¸åŒç®—æ³•ç”¢ç”Ÿå›ºå®šé•·åº¦è¼¸å‡º  
âœ… **é›ªå´©æ•ˆæ‡‰** - è¼¸å…¥å¾®å°è®ŠåŒ–å°è‡´è¼¸å‡ºå·¨å¤§å·®ç•°  
âœ… **ç¢ºå®šæ€§** - ç›¸åŒè¼¸å…¥æ°¸é ç”¢ç”Ÿç›¸åŒè¼¸å‡º
</Callout>

### å“ˆå¸Œç®—æ³•æ¯”è¼ƒ

<Tabs items={['å®‰å…¨å“ˆå¸Œ (SHA)', 'å¿«é€Ÿå“ˆå¸Œ (MD5)', 'å¯†ç¢¼å“ˆå¸Œ', 'ç¾ä»£å“ˆå¸Œ']} groupId="hash-algorithms">
  <Tab value="å®‰å…¨å“ˆå¸Œ (SHA)">
    **æ¨è–¦ç”¨é€”**: æ–‡ä»¶å®Œæ•´æ€§é©—è­‰ã€æ•¸ä½ç°½ç« ã€å€å¡Šéˆ
    
    ```javascript title="SHA ç³»åˆ—å“ˆå¸Œ"
    // SHA-256 (æ¨è–¦)
    async function sha256Hash(data) {
      const encoder = new TextEncoder();
      const dataBuffer = encoder.encode(data);
      const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
    }
    
    // SHA-512 (æ›´å®‰å…¨ä½†è¼ƒæ…¢)
    async function sha512Hash(data) {
      const encoder = new TextEncoder();
      const dataBuffer = encoder.encode(data);
      const hashBuffer = await crypto.subtle.digest('SHA-512', dataBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
    }
    
    // ä½¿ç”¨ç¯„ä¾‹
    const message = 'Hello World!';
    
    sha256Hash(message).then(hash => {
      console.log('SHA-256:', hash);
      // 7f83b1657ff1fc53b92dc18148a1d65dfc2d4b1fa3d677284addd200126d9069
    });
    
    sha512Hash(message).then(hash => {
      console.log('SHA-512:', hash.substring(0, 64) + '...');
      // 861844d6704e8573fec34d967e20bcfef3d424cf48be04e6dc08f2bd58c72743...
    });
    
    // Node.js ç‰ˆæœ¬
    const crypto = require('crypto');
    
    function createSHA256(data) {
      return crypto.createHash('sha256').update(data).digest('hex');
    }
    
    console.log(createSHA256('Hello World!'));
    ```
    
    **ç‰¹é»**:
    - SHA-256: 256 ä½è¼¸å‡ºï¼ŒBitcoin ä½¿ç”¨
    - SHA-512: 512 ä½è¼¸å‡ºï¼Œæ›´é«˜å®‰å…¨æ€§
    - è¨ˆç®—é€Ÿåº¦ä¸­ç­‰ï¼Œå®‰å…¨æ€§é«˜
    - é©ç”¨æ–¼æ•¸ä½æ†‘è­‰ã€æª”æ¡ˆæ ¡é©—
  </Tab>
  <Tab value="å¿«é€Ÿå“ˆå¸Œ (MD5)">
    **âš ï¸ ä¸æ¨è–¦ç”¨æ–¼å®‰å…¨ç”¨é€”** - åƒ…ç”¨æ–¼éå®‰å…¨å ´åˆçš„å¿«é€Ÿæ ¡é©—
    
    ```javascript title="MD5 å“ˆå¸Œ (åƒ…ä¾›åƒè€ƒ)"
    // ç€è¦½å™¨ç’°å¢ƒéœ€è¦å¤–éƒ¨å‡½å¼åº«
    // Node.js ç¯„ä¾‹
    const crypto = require('crypto');
    
    function md5Hash(data) {
      return crypto.createHash('md5').update(data).digest('hex');
    }
    
    console.log(md5Hash('Hello World!')); 
    // ed076287532e86365e841e92bfc50d8c
    
    // å±•ç¤º MD5 ç¢°æ’è„†å¼±æ€§
    const input1 = 'Hello World!';
    const input2 = 'Hello World.'; // åªå·®ä¸€å€‹å­—ç¬¦
    
    console.log('MD5 è¼¸å…¥1:', md5Hash(input1));
    console.log('MD5 è¼¸å…¥2:', md5Hash(input2));
    // å®Œå…¨ä¸åŒçš„å“ˆå¸Œå€¼ï¼Œä½† MD5 å·²çŸ¥å­˜åœ¨ç¢°æ’æ”»æ“Š
    ```
    
    <Callout type="warn" title="MD5 é™åˆ¶">
    - âŒ å·²è¢«ç ´è§£ï¼Œå­˜åœ¨ç¢°æ’æ”»æ“Š
    - âŒ ä¸é©åˆå¯†ç¢¼å„²å­˜æˆ–å®‰å…¨ç”¨é€”  
    - âœ… å¯ç”¨æ–¼æ–‡ä»¶æ ¡é©—ï¼ˆéå®‰å…¨å ´åˆï¼‰
    - âœ… è¨ˆç®—é€Ÿåº¦å¿«
    </Callout>
  </Tab>
  <Tab value="å¯†ç¢¼å“ˆå¸Œ">
    **å°ˆç”¨æ–¼å¯†ç¢¼å„²å­˜** - åŒ…å« Salt å’Œå¤šè¼ªè¿­ä»£
    
    ```javascript title="å¯†ç¢¼å“ˆå¸Œæœ€ä½³å¯¦è¸"
    // bcrypt ç¯„ä¾‹ (Node.js)
    const bcrypt = require('bcryptjs');
    
    // å¯†ç¢¼å“ˆå¸Œ
    async function hashPassword(password) {
      const saltRounds = 12; // è¨ˆç®—æˆæœ¬ï¼Œå»ºè­° 12 ä»¥ä¸Š
      return await bcrypt.hash(password, saltRounds);
    }
    
    // å¯†ç¢¼é©—è­‰
    async function verifyPassword(password, hash) {
      return await bcrypt.compare(password, hash);
    }
    
    // ä½¿ç”¨ç¯„ä¾‹
    const password = 'mySecurePassword123!';
    
    hashPassword(password).then(async (hashed) => {
      console.log('å“ˆå¸Œå¾Œ:', hashed);
      // $2a$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqyPw9BcOZEwsWZ6c3k5.1K
      
      // é©—è­‰å¯†ç¢¼
      const isValid = await verifyPassword(password, hashed);
      console.log('å¯†ç¢¼æ­£ç¢º:', isValid); // true
      
      const isInvalid = await verifyPassword('wrongPassword', hashed);
      console.log('éŒ¯èª¤å¯†ç¢¼:', isInvalid); // false
    });
    
    // PBKDF2 ç¯„ä¾‹
    const crypto = require('crypto');
    
    function pbkdf2Hash(password, salt = null) {
      if (!salt) {
        salt = crypto.randomBytes(32).toString('hex');
      }
      
      const hash = crypto.pbkdf2Sync(password, salt, 100000, 64, 'sha512');
      return {
        salt: salt,
        hash: hash.toString('hex')
      };
    }
    
    const passwordHash = pbkdf2Hash('myPassword');
    console.log('PBKDF2:', passwordHash);
    ```
    
    **å¯†ç¢¼å“ˆå¸ŒåŸå‰‡**:
    - âœ… ä½¿ç”¨ Salt é˜²æ­¢å½©è™¹è¡¨æ”»æ“Š
    - âœ… å¤šè¼ªè¿­ä»£å¢åŠ è¨ˆç®—æˆæœ¬
    - âœ… éš¨æ©Ÿ Saltï¼Œæ¯å€‹å¯†ç¢¼ç¨ä¸€ç„¡äºŒ
    - âœ… ä½¿ç”¨ bcrypt, scrypt, Argon2 ç­‰å°ˆç”¨ç®—æ³•
  </Tab>
  <Tab value="ç¾ä»£å“ˆå¸Œ">
    **æœ€æ–°æ¨è–¦** - ç¾ä»£é«˜æ•ˆèƒ½å“ˆå¸Œç®—æ³•
    
    ```javascript title="ç¾ä»£å“ˆå¸Œç®—æ³•"
    // BLAKE2 (éœ€è¦å¤–éƒ¨å‡½å¼åº«)
    // æ¯” SHA-256 æ›´å¿«ï¼Œå®‰å…¨æ€§ç›¸ç•¶
    
    // xxHash (æ¥µé€ŸéåŠ å¯†å“ˆå¸Œ)
    const XXH = require('xxhashjs');
    
    function xxhash64(data) {
      return XXH.h64(data, 0xABCD).toString(16);
    }
    
    console.log('xxHash:', xxhash64('Hello World!'));
    // é«˜é€Ÿå“ˆå¸Œï¼Œé©ç”¨æ–¼å“ˆå¸Œè¡¨ã€æ ¡é©—å’Œ
    
    // CityHash, MurmurHash ç­‰
    // ä¸»è¦ç”¨æ–¼å“ˆå¸Œè¡¨ã€åˆ†æ•£å¼ç³»çµ±
    
    // Argon2 (å¯†ç¢¼å“ˆå¸Œé‡‘æ¨™æº–)
    const argon2 = require('argon2');
    
    async function argon2Hash(password) {
      try {
        const hash = await argon2.hash(password, {
          type: argon2.argon2id,
          memoryCost: 2 ** 16, // 64 MB
          timeCost: 3,         // 3 iterations
          parallelism: 1,      // 1 thread
        });
        return hash;
      } catch (err) {
        console.error(err);
      }
    }
    
    async function argon2Verify(password, hash) {
      try {
        return await argon2.verify(hash, password);
      } catch (err) {
        console.error(err);
        return false;
      }
    }
    ```
    
    **é¸æ“‡æŒ‡å—**:
    - **å¯†ç¢¼**: Argon2 > bcrypt > PBKDF2
    - **æª”æ¡ˆå®Œæ•´æ€§**: SHA-256/SHA-512
    - **é«˜æ•ˆèƒ½æ ¡é©—**: BLAKE2, xxHash
    - **å€å¡Šéˆ**: SHA-256 (Bitcoin), Keccak-256 (Ethereum)
  </Tab>
</Tabs>

## å¯¦éš›æ‡‰ç”¨å»ºè­°

é‡å°åŒäº‹é‡åˆ°çš„ URI æ•¸æ“šè™•ç†å•é¡Œï¼Œé€™è£¡æä¾›å®Œæ•´çš„è§£æ±ºæ–¹æ¡ˆï¼š

<Steps>
  <Step>
    ### è­˜åˆ¥æ•¸æ“šé¡å‹
    å…ˆåˆ¤æ–·è¦è™•ç†çš„æ•¸æ“šæ€§è³ª
    ```javascript
    const data = {
      userInfo: { name: 'å¼µä¸‰', email: 'user@example.com' },
      isPublic: true,
      timestamp: Date.now()
    };
    
    // åˆ¤æ–·ï¼šé€™æ˜¯è¦åœ¨ URL ä¸­å‚³è¼¸çš„çµæ§‹åŒ–æ•¸æ“š
    ```
  </Step>
  <Step>
    ### é¸æ“‡åˆé©çš„è™•ç†æ–¹å¼
    æ ¹æ“šæ•¸æ“šç‰¹æ€§é¸æ“‡ç·¨ç¢¼æ–¹æ³•
    ```javascript
    // 1. JSON â†’ Base64 â†’ URL Safe
    function encodeForURL(data) {
      const jsonString = JSON.stringify(data);
      const base64 = btoa(unescape(encodeURIComponent(jsonString)));
      return encodeURIComponent(base64); // URL å®‰å…¨ç·¨ç¢¼
    }
    
    // 2. URL Safe â†’ Base64 â†’ JSON
    function decodeFromURL(encodedData) {
      const base64 = decodeURIComponent(encodedData);
      const jsonString = decodeURIComponent(escape(atob(base64)));
      return JSON.parse(jsonString);
    }
    ```
  </Step>
  <Step>
    ### å¯¦éš›æ‡‰ç”¨æ•´åˆ
    èˆ‡å‰ç«¯æ¡†æ¶æ•´åˆä½¿ç”¨
    
    <Tabs items={['React/TanStack', 'Vue Router', 'Vanilla JS']} groupId="framework-integration">
      <Tab value="React/TanStack">
        ```javascript title="TanStack Router æ•´åˆ"
        import { useSearch, useNavigate } from '@tanstack/react-router';
        
        function DataComponent() {
          const search = useSearch({ from: '/' });
          const navigate = useNavigate({ from: '/' });
          
          // è®€å– URL ä¸­çš„æ•¸æ“š
          const getData = () => {
            if (search.data) {
              return decodeFromURL(search.data);
            }
            return null;
          };
          
          // å°‡æ•¸æ“šç·¨ç¢¼åˆ° URL
          const setData = (newData) => {
            const encoded = encodeForURL(newData);
            navigate({
              search: { data: encoded }
            });
          };
          
          return (
            <div>
              <button onClick={() => setData({ message: 'Hello World!' })}>
                è¨­å®šè³‡æ–™åˆ° URL
              </button>
              <pre>{JSON.stringify(getData(), null, 2)}</pre>
            </div>
          );
        }
        ```
      </Tab>
      <Tab value="Vue Router">
        ```javascript title="Vue Router æ•´åˆ"
        // åœ¨ Vue çµ„ä»¶ä¸­
        export default {
          methods: {
            // å°‡è³‡æ–™ç·¨ç¢¼ä¸¦å°èˆª
            navigateWithData(data) {
              const encoded = this.encodeForURL(data);
              this.$router.push({
                path: '/target',
                query: { data: encoded }
              });
            },
            
            // å¾è·¯ç”±è§£ç¢¼è³‡æ–™
            getDataFromRoute() {
              const encodedData = this.$route.query.data;
              if (encodedData) {
                return this.decodeFromURL(encodedData);
              }
              return null;
            },
            
            encodeForURL(data) {
              const jsonString = JSON.stringify(data);
              const base64 = btoa(unescape(encodeURIComponent(jsonString)));
              return encodeURIComponent(base64);
            },
            
            decodeFromURL(encodedData) {
              const base64 = decodeURIComponent(encodedData);
              const jsonString = decodeURIComponent(escape(atob(base64)));
              return JSON.parse(jsonString);
            }
          },
          
          computed: {
            currentData() {
              return this.getDataFromRoute();
            }
          }
        }
        ```
      </Tab>
      <Tab value="Vanilla JS">
        ```javascript title="åŸç”Ÿ JavaScript"
        class URLDataManager {
          constructor() {
            this.init();
          }
          
          init() {
            // ç›£è½ URL è®ŠåŒ–
            window.addEventListener('popstate', () => {
              this.handleURLChange();
            });
            
            this.handleURLChange();
          }
          
          encodeForURL(data) {
            const jsonString = JSON.stringify(data);
            const base64 = btoa(unescape(encodeURIComponent(jsonString)));
            return encodeURIComponent(base64);
          }
          
          decodeFromURL(encodedData) {
            try {
              const base64 = decodeURIComponent(encodedData);
              const jsonString = decodeURIComponent(escape(atob(base64)));
              return JSON.parse(jsonString);
            } catch (error) {
              console.error('Decode error:', error);
              return null;
            }
          }
          
          setData(data) {
            const encoded = this.encodeForURL(data);
            const url = new URL(window.location);
            url.searchParams.set('data', encoded);
            
            window.history.pushState({}, '', url);
            this.handleURLChange();
          }
          
          getData() {
            const params = new URLSearchParams(window.location.search);
            const encoded = params.get('data');
            return encoded ? this.decodeFromURL(encoded) : null;
          }
          
          handleURLChange() {
            const data = this.getData();
            console.log('URL è³‡æ–™è®Šæ›´:', data);
            // è§¸ç™¼ UI æ›´æ–°
            this.updateUI(data);
          }
          
          updateUI(data) {
            const output = document.getElementById('data-output');
            if (output) {
              output.textContent = JSON.stringify(data, null, 2);
            }
          }
        }
        
        // ä½¿ç”¨ç¯„ä¾‹
        const dataManager = new URLDataManager();
        
        document.getElementById('set-data')?.addEventListener('click', () => {
          dataManager.setData({
            user: 'å¼µä¸‰',
            timestamp: Date.now(),
            preferences: { theme: 'dark', language: 'zh-TW' }
          });
        });
        ```
      </Tab>
    </Tabs>
  </Step>
  <Step>
    ### è™•ç†é‚Šç•Œæƒ…æ³
    è€ƒæ…®å„ç¨®ç•°å¸¸æƒ…æ³
    ```javascript
    function safeEncodeForURL(data, maxLength = 2000) {
      try {
        const encoded = encodeForURL(data);
        
        // æª¢æŸ¥ URL é•·åº¦é™åˆ¶
        if (encoded.length > maxLength) {
          console.warn('è³‡æ–™å¤ªå¤§ï¼Œè€ƒæ…®ä½¿ç”¨å…¶ä»–æ–¹å¼å„²å­˜');
          return null;
        }
        
        return encoded;
      } catch (error) {
        console.error('ç·¨ç¢¼å¤±æ•—:', error);
        return null;
      }
    }
    
    function safeDecodeFromURL(encodedData) {
      if (!encodedData || typeof encodedData !== 'string') {
        return null;
      }
      
      try {
        return decodeFromURL(encodedData);
      } catch (error) {
        console.error('è§£ç¢¼å¤±æ•—:', error);
        return null;
      }
    }
    ```
  </Step>
</Steps>

## æœ€ä½³å¯¦è¸ç¸½çµ

<Callout type="success" title="é¸æ“‡æŒ‡å—">
**URL æ•¸æ“šå‚³è¼¸**: encodeURIComponent + JSON + Base64  
**å¯†ç¢¼å„²å­˜**: bcrypt æˆ– Argon2 + Salt  
**æª”æ¡ˆæ ¡é©—**: SHA-256  
**é«˜æ•ˆèƒ½å“ˆå¸Œ**: xxHash, BLAKE2  
**HTML é¡¯ç¤º**: HTML entities ç·¨ç¢¼
</Callout>

### å®‰å…¨æ³¨æ„äº‹é …

1. **ä¸è¦åœ¨ URL ä¸­æ”¾æ•æ„Ÿè³‡æ–™** - URL æœƒè¢«è¨˜éŒ„åœ¨æ—¥èªŒä¸­
2. **é©—è­‰æ‰€æœ‰è§£ç¢¼æ•¸æ“š** - é˜²æ­¢æƒ¡æ„è¼¸å…¥
3. **è¨­å®šé•·åº¦é™åˆ¶** - é¿å… URL éé•·å•é¡Œ
4. **ä½¿ç”¨ HTTPS** - ä¿è­·å‚³è¼¸å®‰å…¨

### æ•ˆèƒ½è€ƒé‡

<Tabs items={['ç·¨ç¢¼æ•ˆèƒ½', 'å„²å­˜æ–¹æ¡ˆ']} groupId="performance-considerations">
  <Tab value="ç·¨ç¢¼æ•ˆèƒ½">
    ```javascript
    // æ•ˆèƒ½æ¸¬è©¦ç¯„ä¾‹
    function performanceTest() {
      const data = { 
        users: Array(1000).fill({ name: 'User', id: Math.random() })
      };
      
      console.time('JSON.stringify');
      const jsonString = JSON.stringify(data);
      console.timeEnd('JSON.stringify');
      
      console.time('Base64 encode');
      const base64 = btoa(jsonString);
      console.timeEnd('Base64 encode');
      
      console.time('URL encode');
      const urlSafe = encodeURIComponent(base64);
      console.timeEnd('URL encode');
      
      console.log('æœ€çµ‚å¤§å°:', urlSafe.length, 'bytes');
    }
    ```
  </Tab>
  <Tab value="å„²å­˜æ–¹æ¡ˆ">
    ```javascript
    // æ ¹æ“šè³‡æ–™å¤§å°é¸æ“‡å„²å­˜æ–¹æ¡ˆ
    function chooseStorageMethod(data) {
      const encoded = encodeForURL(data);
      
      if (encoded.length < 2000) {
        // å°è³‡æ–™ï¼šä½¿ç”¨ URL åƒæ•¸
        return { method: 'url', data: encoded };
      } else if (encoded.length < 5000) {
        // ä¸­ç­‰è³‡æ–™ï¼šä½¿ç”¨ sessionStorage
        const key = `data_${Date.now()}`;
        sessionStorage.setItem(key, encoded);
        return { method: 'session', key: key };
      } else {
        // å¤§è³‡æ–™ï¼šä½¿ç”¨å¾Œç«¯ API + ID
        return { method: 'api', action: 'store_data' };
      }
    }
    ```
  </Tab>
</Tabs>

é€™äº›æ¦‚å¿µåœ¨ç¾ä»£ Web é–‹ç™¼ä¸­éå¸¸é‡è¦ï¼Œç†è§£å®ƒå€‘çš„å·®ç•°å’Œç”¨é€”æœ‰åŠ©æ–¼å¯«å‡ºæ›´å®‰å…¨ã€æ›´å¯é çš„ä»£ç¢¼ã€‚

## ç›¸é—œè³‡æº

<Cards>
  <Card
    href="/docs/backend/jwt"
    title="JWT æ©Ÿåˆ¶è©³è§£"
  >
    äº†è§£ JWT å¦‚ä½•ä½¿ç”¨ Base64 ç·¨ç¢¼å’Œå“ˆå¸Œç°½ç« 
  </Card>
  <Card
    href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API"
    title="Web Crypto API"
  >
    ç€è¦½å™¨å…§å»ºçš„åŠ å¯†å’Œå“ˆå¸Œ API æ–‡æª”
  </Card>
</Cards>